# 조직별 직책 구성원 관리 시스템 개발 계획

## 프로젝트 개요
교회 조직별 직책 구성원을 효율적으로 관리할 수 있는 시스템 구축

---

## Phase 1: 기본 구성원 관리 기능 (즉시 구현 가능)

### 1.1 조직별 구성원 목록 조회
- [x] 조직 선택 드롭다운 구현
- [x] 선택된 조직의 구성원 목록 테이블 구현
- [x] 구성원 정보 표시 (이름, 직책, 참여일, 상태)
- [x] 페이지네이션 구현 (백엔드 지원 추가됨)
- [x] 로딩 상태 및 에러 처리
- [x] LEVEL_5 지원 추가

### 1.2 구성원 검색 및 필터링
- [x] 구성원 이름 검색 기능 (디바운스 적용)
- [x] 전화번호, 이메일 검색 기능
- [x] 직책별 필터링 (리더십 구분 표시)
- [x] 상태별 필터링 (활성/비활성/모든 상태)
- [x] 실시간 필터 적용 및 초기화
- [x] 활성화된 필터 표시 및 개별 제거
- [ ] 참여일 기간 필터링
- [ ] 검색 결과 하이라이팅

### 1.3 구성원 정보 편집
- [x] 구성원 상세 정보 모달 구현
- [x] 직책 변경 기능
- [x] 참여일 수정 기능
- [x] 구성원 상태 변경 (활성/비활성)
- [x] 메모 추가/편집 기능
- [x] 변경 이력 저장

**Phase 1 진행률: 18/18 (100%)** ✅

---

## Phase 2: 고급 관리 기능 (중기)

### 2.1 일괄 관리 기능
- [ ] 다중 선택 체크박스 구현
- [ ] 선택된 구성원 일괄 직책 변경
- [ ] 선택된 구성원 일괄 조직 이동
- [ ] 선택된 구성원 일괄 상태 변경
- [ ] 일괄 작업 확인 다이얼로그

### 2.2 통계 대시보드
- [ ] 조직별 구성원 수 차트
- [ ] 직책별 인원 현황 파이 차트
- [ ] 참여 기간별 분포 히스토그램
- [ ] 조직 계층별 리더십 현황
- [ ] 월별/연도별 구성원 변화 추이

### 2.3 데이터 가져오기/내보내기
- [ ] Excel 템플릿 생성
- [ ] Excel 파일 업로드 기능
- [ ] 데이터 검증 및 오류 처리
- [ ] Excel 파일 다운로드 기능
- [ ] PDF 보고서 생성

**Phase 2 진행률: 0/15 (0%)**

---

## Phase 3: 고급 분석 및 자동화 (장기)

### 3.1 알림 및 관리 기능
- [ ] 직책 임기 만료 알림 시스템
- [ ] 구성원 변경 사항 알림
- [ ] 승인 대기 구성원 관리
- [ ] 이메일/SMS 알림 발송
- [ ] 알림 설정 관리

### 3.2 고급 분석 기능
- [ ] 구성원 참여 패턴 분석
- [ ] 리더십 공백 분석
- [ ] 조직 성장률 분석
- [ ] 구성원 유지율 분석
- [ ] 예측 분석 (이탈 위험도)

### 3.3 리더십 관리 도구
- [ ] 리더십 승계 계획 관리
- [ ] 리더 후보자 추천 시스템
- [ ] 리더십 역량 평가
- [ ] 멘토링 관계 관리
- [ ] 리더십 개발 계획

### 3.4 통합 기능
- [ ] 출석 시스템 연동
- [ ] 회계 시스템 연동
- [ ] 예약 시스템 연동
- [ ] 외부 교회 관리 시스템 API 연동
- [ ] 모바일 앱 연동

**Phase 3 진행률: 0/20 (0%)**

---

## 전체 진행률
- **Phase 1**: 18/18 (100%) ⚫⚫⚫⚫⚫ ✅
- **Phase 2**: 0/15 (0%) ⚪⚪⚪⚪⚪  
- **Phase 3**: 0/20 (0%) ⚪⚪⚪⚪⚪
- **전체**: 18/53 (34%) ⚫⚫⚪⚪⚪

---

## 기술 스택
- **Frontend**: Next.js 14, React, TypeScript, Tailwind CSS
- **Backend**: tRPC, Prisma ORM
- **Database**: PostgreSQL
- **UI Components**: shadcn/ui
- **Charts**: Recharts
- **File Processing**: xlsx, jsPDF

---

## 개발 시 고려사항
1. **성능**: 대용량 데이터 처리를 위한 페이지네이션 및 가상화
2. **보안**: 조직별 권한 관리 및 데이터 접근 제어
3. **사용성**: 직관적인 UI/UX 설계
4. **확장성**: 다양한 교회 규모 및 조직 구조 지원
5. **모바일 지원**: 반응형 디자인 적용

---

## 업데이트 로그
- **2025-01-04**: 초기 계획 작성
- **2025-01-04**: Phase 1.1 완료 - 조직별 구성원 목록 조회 기능 구현
  - OrganizationMembershipList 컴포넌트 개선 및 LEVEL_5 지원 추가
  - 페이지네이션 지원 tRPC 쿼리 추가 (getByOrganizationPaginated)
  - '구성원 관리' 탭에 기능 연동 완료
- **2025-01-04**: Phase 1.2 대부분 완료 - 고급 검색 및 필터링 기능 구현
  - 디바운스 기반 실시간 검색 (이름, 전화번호, 이메일, 직책)
  - 직책별 필터링 (리더십 구분 표시, 레벨 표시)
  - 상태별 필터링 (활성/비활성/모든 상태)
  - 활성 필터 표시 및 개별 제거 기능
  - 페이지 크기 선택 기능
  - 완전한 페이지네이션 UI (이전/다음, 페이지 번호)
  - 필터 초기화 및 새로고침 기능
- **2025-01-04**: Phase 1.3 완료 - 구성원 정보 편집 및 변경 이력 추적 기능 구현
  - OrganizationMemberEditDialog 컴포넌트에 탭 기반 UI 구현 (편집/이력 보기)
  - 데이터베이스에 OrganizationMembershipHistory 테이블 및 MembershipChangeType 열거형 추가
  - 백엔드 변경 이력 자동 추적 시스템 구현 (직책, 상태, 주요조직, 메모 등 변경사항)
  - MembershipHistoryView 컴포넌트로 변경 이력 조회 및 페이지네이션 UI
  - 모든 변경사항에 대한 이전값/변경값 JSON 저장 및 변경 사유 추적
- **Phase 1 완료** ✅ - 조직별 직책 구성원 기본 관리 기능 모두 구현 완료
- 진행 상황은 체크박스를 통해 실시간 업데이트

---

*이 문서는 개발 진행에 따라 지속적으로 업데이트됩니다.*